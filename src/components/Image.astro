---
const {
  src, // image URL (from public/images)
  imageClass = "w-fit h-auto bg-gray-100 rounded-xl",
  alt = "Blog Image",
  loading = "lazy",
  decoding = "async",
  fetchpriority = "auto",
} = Astro.props;

// All images are now from public/images (downloaded from Notion)
const attrs = {
  src,
  alt,
  class: `${imageClass} img-loading`,
  loading,
  decoding,
  fetchpriority,
  style: "max-width:100%;height:auto;",
};
---

<img {...attrs} />
<style>
  .blurry-load {
    position: relative;
    overflow: hidden;
    display: inline-block;
  }
  .blurry-load img {
    display: block;
    width: 100%;
    height: auto;
    transition:
      filter 600ms ease,
      opacity 400ms ease;
    filter: blur(20px) scale(1.02);
  }
  .blurry-load img.img-loaded {
    filter: none;
    opacity: 1;
  }
  .blurry-load .no-filter {
    background: linear-gradient(90deg, #f0f0f0 25%, #e8e8e8 37%, #f0f0f0 63%);
    background-size: 400% 100%;
    animation: shimmer 1.2s linear infinite;
    min-height: 1px;
  }
  @keyframes shimmer {
    0% {
      background-position: 100% 0;
    }
    100% {
      background-position: -100% 0;
    }
  }
</style>
